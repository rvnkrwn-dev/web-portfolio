---
import Preloader from "../components/Preloader.astro";
import CustomCursor from "../components/CustomCursor.astro";
import NavbarMagnetic from "../components/NavbarMagnetic.astro";
import { SOCIAL_LINKS } from "../config/site";

interface Props {
    title?: string;
}

const { title = "Portfolio" } = Astro.props;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="description"
            content="Creative Developer Portfolio with GSAP Animations"
        />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <title>{title}</title>
    </head>
    <body>
        <!-- Preloader -->
        <Preloader />

        <!-- Custom Cursor -->
        <CustomCursor />

        <!-- Navbar Magnetic Effect -->
        <NavbarMagnetic />

        <!-- Decorative Background -->
        <div class="page-background">
            <div class="grid-overlay"></div>
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
            <div class="gradient-orb orb-3"></div>
            <div class="noise-overlay"></div>
        </div>

        <!-- Navbar -->
        <nav class="navbar">
            <div class="navbar-glow"></div>
            <div class="container">
                <div class="nav-content">
                    <a href="/" class="logo">
                        <div class="logo-bg"></div>
                        <span class="logo-text"
                            >Portfolio<span class="logo-dot">.</span></span
                        >
                    </a>
                    <ul class="nav-links">
                        <li>
                            <a href="/#projects" class="nav-link">
                                <span class="nav-link-text">Projects</span>
                                <span class="nav-link-bg"></span>
                            </a>
                        </li>
                        <li>
                            <a href="/#contact" class="nav-link">
                                <span class="nav-link-text">Contact</span>
                                <span class="nav-link-bg"></span>
                            </a>
                        </li>
                        <li>
                            <a href="/about" class="nav-link">
                                <span class="nav-link-text">About</span>
                                <span class="nav-link-bg"></span>
                            </a>
                        </li>
                        <li class="mobile-cta-item">
                            <a
                                href={SOCIAL_LINKS.email || "#"}
                                class="nav-link mobile-cta-link"
                            >
                                <span class="nav-link-text">Hire Me</span>
                                <svg
                                    width="16"
                                    height="16"
                                    viewBox="0 0 16 16"
                                    fill="none"
                                >
                                    <path
                                        d="M3 8H13M13 8L8 3M13 8L8 13"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                </svg>
                            </a>
                        </li>
                    </ul>
                    <a href="mailto:hello@example.com" class="nav-cta">
                        <span class="cta-text">Hire Me</span>
                        <svg
                            width="16"
                            height="16"
                            viewBox="0 0 16 16"
                            fill="none"
                        >
                            <path
                                d="M3 8H13M13 8L8 3M13 8L8 13"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </a>
                    <button class="menu-toggle" aria-label="Toggle menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Mobile Menu Overlay -->
        <div class="mobile-overlay"></div>

        <!-- Main Content -->
        <slot />

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-decoration"></div>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-main">
                        <div class="footer-brand">
                            <div class="footer-logo">
                                <span class="logo-text">Portfolio.</span>
                            </div>
                            <p class="footer-tagline">
                                Crafting digital experiences with passion &
                                precision
                            </p>
                        </div>
                        <div class="footer-links">
                            <div class="footer-column">
                                <h4 class="footer-heading">Navigation</h4>
                                <ul class="footer-list">
                                    <li><a href="/">Home</a></li>
                                    <li><a href="/#projects">Projects</a></li>
                                    <li><a href="/#contact">Contact</a></li>
                                </ul>
                            </div>
                            <div class="footer-column">
                                <h4 class="footer-heading">Connect</h4>
                                <ul class="footer-list">
                                    {
                                        SOCIAL_LINKS.github && (
                                            <li>
                                                <a
                                                    href={SOCIAL_LINKS.github}
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                >
                                                    GitHub
                                                </a>
                                            </li>
                                        )
                                    }
                                    {
                                        SOCIAL_LINKS.linkedin && (
                                            <li>
                                                <a
                                                    href={SOCIAL_LINKS.linkedin}
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                >
                                                    LinkedIn
                                                </a>
                                            </li>
                                        )
                                    }
                                    {
                                        SOCIAL_LINKS.twitter && (
                                            <li>
                                                <a
                                                    href={SOCIAL_LINKS.twitter}
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                >
                                                    Twitter
                                                </a>
                                            </li>
                                        )
                                    }
                                    <li>
                                        <a href={SOCIAL_LINKS.email}>Email</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bottom">
                        <p class="footer-copyright">
                            Â© {new Date().getFullYear()} Portfolio. Built by <a
                                href="https://www.leci.app"
                                target="_blank"
                                rel="noopener noreferrer"
                                class="footer-link">Leci Digital Solution</a
                            >
                        </p>
                        <div class="footer-social">
                            {
                                SOCIAL_LINKS.github && (
                                    <a
                                        href={SOCIAL_LINKS.github}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        class="social-link"
                                    >
                                        <svg
                                            width="20"
                                            height="20"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                        >
                                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                                        </svg>
                                    </a>
                                )
                            }
                            {
                                SOCIAL_LINKS.linkedin && (
                                    <a
                                        href={SOCIAL_LINKS.linkedin}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        class="social-link"
                                    >
                                        <svg
                                            width="20"
                                            height="20"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                        >
                                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                                        </svg>
                                    </a>
                                )
                            }
                            {
                                SOCIAL_LINKS.twitter && (
                                    <a
                                        href={SOCIAL_LINKS.twitter}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        class="social-link"
                                    >
                                        <svg
                                            width="20"
                                            height="20"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                        >
                                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
                                        </svg>
                                    </a>
                                )
                            }
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>

<style is:global>
    :root {
        /* Colors - Modern Dark Theme */
        --color-bg-primary: #0a0a0f;
        --color-bg-secondary: #0f0f1a;
        --color-bg-tertiary: #14141f;

        /* Accent Colors */
        --color-accent-primary: #6366f1;
        --color-accent-secondary: #8b5cf6;
        --color-accent-tertiary: #ec4899;

        /* Text Colors */
        --color-text-primary: #ffffff;
        --color-text-secondary: #a1a1aa;
        --color-text-tertiary: #71717a;

        /* Border Colors */
        --color-border-primary: rgba(255, 255, 255, 0.08);
        --color-border-secondary: rgba(255, 255, 255, 0.05);

        /* Shadows */
        --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
        --shadow-glow: 0 0 40px rgba(99, 102, 241, 0.3);

        /* Spacing */
        --spacing-xs: 0.5rem;
        --spacing-sm: 1rem;
        --spacing-md: 1.5rem;
        --spacing-lg: 2rem;
        --spacing-xl: 3rem;

        /* Border Radius */
        --radius-sm: 8px;
        --radius-md: 12px;
        --radius-lg: 16px;
        --radius-xl: 24px;
        --radius-full: 9999px;

        /* Transitions */
        --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        --transition-base: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html {
        scroll-behavior: smooth;
        overflow-x: hidden;
    }

    body {
        font-family:
            "Space Grotesk",
            -apple-system,
            BlinkMacSystemFont,
            "Segoe UI",
            sans-serif;
        background: var(--color-bg-primary);
        color: var(--color-text-primary);
        line-height: 1.6;
        overflow-x: hidden;
        position: relative;
        min-height: 100vh;
    }

    /* Page Background with Decorations */
    .page-background {
        position: fixed;
        inset: 0;
        z-index: -1;
        overflow: hidden;
        pointer-events: none;
    }

    .grid-overlay {
        position: absolute;
        inset: 0;
        background-image:
            linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
            linear-gradient(
                90deg,
                rgba(99, 102, 241, 0.03) 1px,
                transparent 1px
            );
        background-size: 60px 60px;
        mask-image: radial-gradient(
            ellipse 80% 50% at 50% 50%,
            black 0%,
            transparent 100%
        );
    }

    .gradient-orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(120px);
        opacity: 0.15;
        animation: float 20s ease-in-out infinite;
    }

    .orb-1 {
        width: 600px;
        height: 600px;
        background: radial-gradient(circle, #6366f1 0%, transparent 70%);
        top: -300px;
        right: -200px;
        animation-delay: 0s;
    }

    .orb-2 {
        width: 500px;
        height: 500px;
        background: radial-gradient(circle, #8b5cf6 0%, transparent 70%);
        bottom: -250px;
        left: -150px;
        animation-delay: 7s;
    }

    .orb-3 {
        width: 400px;
        height: 400px;
        background: radial-gradient(circle, #ec4899 0%, transparent 70%);
        top: 50%;
        left: 30%;
        animation-delay: 14s;
    }

    @keyframes float {
        0%,
        100% {
            transform: translate(0, 0) scale(1);
        }
        33% {
            transform: translate(50px, -50px) scale(1.1);
        }
        66% {
            transform: translate(-50px, 50px) scale(0.9);
        }
    }

    .noise-overlay {
        position: absolute;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.02;
        mix-blend-mode: overlay;
    }

    /* Container */
    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem;
    }

    /* Navbar */
    .navbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        padding: 1.5rem 0;
        transition: all var(--transition-base);
        opacity: 0;
    }

    body.loaded .navbar {
        opacity: 1;
    }

    .navbar::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(10, 10, 15, 0.8);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--color-border-primary);
        opacity: 0;
        transition: opacity var(--transition-base);
    }

    .navbar.scrolled::before {
        opacity: 1;
    }

    .navbar-glow {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 600px;
        height: 100px;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(99, 102, 241, 0.1),
            transparent
        );
        filter: blur(40px);
        opacity: 0;
        transition: opacity var(--transition-base);
        pointer-events: none;
    }

    .navbar.scrolled .navbar-glow {
        opacity: 1;
    }

    .nav-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: relative;
        z-index: 1;
    }

    /* Logo */
    .logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        text-decoration: none;
        color: var(--color-text-primary);
        font-weight: 700;
        font-size: 1.25rem;
        position: relative;
        transition: transform var(--transition-base);
    }

    .logo:hover {
        transform: scale(1.05);
    }

    .logo-bg {
        position: absolute;
        inset: -0.5rem;
        background: linear-gradient(
            135deg,
            rgba(99, 102, 241, 0.1),
            rgba(139, 92, 246, 0.1)
        );
        border-radius: var(--radius-lg);
        opacity: 0;
        transition: opacity var(--transition-base);
    }

    .logo:hover .logo-bg {
        opacity: 1;
    }

    .logo-text {
        font-size: 1.25rem;
        font-weight: 700;
        letter-spacing: -0.02em;
        position: relative;
        z-index: 1;
    }

    .logo-dot {
        color: var(--color-accent-primary);
    }

    /* Nav Links */
    .nav-links {
        display: flex;
        list-style: none;
        gap: 0.5rem;
        align-items: center;
    }

    .mobile-cta-item {
        display: none;
    }

    .nav-link {
        position: relative;
        display: flex;
        align-items: center;
        padding: 0.75rem 1.25rem;
        text-decoration: none;
        color: var(--color-text-secondary);
        font-weight: 500;
        font-size: 0.95rem;
        letter-spacing: -0.01em;
        border-radius: var(--radius-full);
        transition: color var(--transition-base);
        overflow: hidden;
    }

    .nav-link-text {
        position: relative;
        z-index: 1;
    }

    .nav-link-bg {
        position: absolute;
        inset: 0;
        background: rgba(255, 255, 255, 0.05);
        border-radius: var(--radius-full);
        opacity: 0;
        transition: opacity var(--transition-base);
    }

    .nav-link:hover {
        color: var(--color-text-primary);
    }

    .nav-link:hover .nav-link-bg {
        opacity: 1;
    }

    .nav-link::after {
        content: "";
        position: absolute;
        bottom: 8px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 2px;
        background: #00ff88;
        border-radius: 2px;
        transition: width var(--transition-base);
    }

    .nav-link:hover::after {
        width: 60%;
    }

    /* CTA Button */
    .nav-cta {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        background: #00ff88;
        color: #0a0a0f;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.95rem;
        border-radius: var(--radius-full);
        transition: all var(--transition-base);
        position: relative;
        overflow: hidden;
    }

    .nav-cta::before {
        content: "";
        position: absolute;
        inset: 0;
        background: #00e676;
        opacity: 0;
        transition: opacity var(--transition-base);
    }

    .nav-cta:hover::before {
        opacity: 1;
    }

    .nav-cta:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(0, 255, 136, 0.4);
    }

    .cta-text {
        position: relative;
        z-index: 1;
    }

    .nav-cta svg {
        position: relative;
        z-index: 1;
        transition: transform var(--transition-base);
    }

    .nav-cta:hover svg {
        transform: translateX(4px);
    }

    /* Mobile Menu Toggle */
    .menu-toggle {
        display: none;
        flex-direction: column;
        gap: 5px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0.5rem;
        z-index: 1001;
        position: relative;
    }

    .menu-toggle span {
        width: 24px;
        height: 2px;
        background: var(--color-text-primary);
        border-radius: 2px;
        transition: all 0.3s ease;
        transform-origin: center;
    }

    .menu-toggle.active span:nth-child(1) {
        transform: translateY(7px) rotate(45deg);
    }

    .menu-toggle.active span:nth-child(2) {
        opacity: 0;
        transform: translateX(-10px);
    }

    .menu-toggle.active span:nth-child(3) {
        transform: translateY(-7px) rotate(-45deg);
    }

    .mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 999;
    }

    .mobile-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    /* Footer */
    .footer {
        position: relative;
        background: var(--color-bg-secondary);
        border-top: 1px solid var(--color-border-primary);
        padding: 4rem 0 2rem;
        margin-top: 8rem;
    }

    .footer-decoration {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
            90deg,
            transparent,
            var(--color-accent-primary),
            transparent
        );
    }

    .footer-content {
        display: flex;
        flex-direction: column;
        gap: 3rem;
    }

    .footer-main {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 4rem;
    }

    .footer-brand {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .footer-logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 1.25rem;
        font-weight: 700;
    }

    .footer-tagline {
        color: var(--color-text-secondary);
        max-width: 400px;
        line-height: 1.6;
    }

    .footer-links {
        display: flex;
        gap: 4rem;
    }

    .footer-column {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .footer-heading {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--color-text-primary);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 0.5rem;
    }

    .footer-list {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .footer-list a {
        color: var(--color-text-secondary);
        text-decoration: none;
        font-size: 0.95rem;
        transition: color var(--transition-base);
    }

    .footer-list a:hover {
        color: var(--color-accent-primary);
    }

    .footer-bottom {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 2rem;
        border-top: 1px solid var(--color-border-secondary);
    }

    .footer-copyright {
        color: var(--color-text-tertiary);
        font-size: 0.875rem;
    }

    .footer-link {
        color: var(--color-text-secondary);
        text-decoration: none;
        transition: color var(--transition-base);
    }

    .footer-link:hover {
        color: var(--color-text-primary);
    }

    .footer-social {
        display: flex;
        gap: 1rem;
    }

    .social-link {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        color: var(--color-text-secondary);
        background: rgba(255, 255, 255, 0.03);
        border-radius: var(--radius-md);
        transition: all var(--transition-base);
    }

    .social-link:hover {
        color: var(--color-text-primary);
        background: rgba(99, 102, 241, 0.1);
        transform: translateY(-2px);
    }

    /* Responsive */
    @media (max-width: 1024px) {
        .nav-links {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 300px;
            height: 100vh;
            background: rgba(10, 10, 15, 0.98);
            backdrop-filter: blur(20px);
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            padding: 2rem;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: -10px 0 40px rgba(0, 0, 0, 0.5);
        }

        .nav-links.mobile-open {
            right: 0;
        }

        .nav-links li {
            width: 100%;
            text-align: center;
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.3s ease;
        }

        .nav-links.mobile-open li {
            opacity: 1;
            transform: translateX(0);
        }

        .nav-links.mobile-open li:nth-child(1) {
            transition-delay: 0.1s;
        }

        .nav-links.mobile-open li:nth-child(2) {
            transition-delay: 0.2s;
        }

        .nav-links.mobile-open li:nth-child(3) {
            transition-delay: 0.3s;
        }

        .nav-links.mobile-open li:nth-child(4) {
            transition-delay: 0.4s;
        }

        .nav-link {
            width: 100%;
            justify-content: center;
            padding: 1rem 2rem;
            font-size: 1.25rem;
        }

        .nav-cta {
            display: none !important;
        }

        .mobile-cta-item {
            display: block !important;
            margin-top: 1rem;
        }

        .mobile-cta-link {
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.1),
                rgba(255, 255, 255, 0.05)
            );
            border: 1px solid rgba(255, 255, 255, 0.2);
            gap: 0.5rem;
        }

        .mobile-cta-link:hover {
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.15),
                rgba(255, 255, 255, 0.08)
            );
            border-color: rgba(255, 255, 255, 0.3);
        }

        .mobile-cta-link svg {
            transition: transform 0.3s ease;
        }

        .mobile-cta-link:hover svg {
            transform: translateX(3px);
        }

        .menu-toggle {
            display: flex;
        }

        .footer-main {
            grid-template-columns: 1fr;
            gap: 3rem;
        }

        .footer-links {
            gap: 3rem;
        }
    }

    @media (max-width: 640px) {
        .container {
            padding: 0 1.5rem;
        }

        .navbar {
            padding: 1rem 0;
        }

        .nav-links {
            max-width: 100%;
        }

        .footer {
            padding: 3rem 0 1.5rem;
            margin-top: 6rem;
        }

        .footer-links {
            flex-direction: column;
            gap: 2rem;
        }

        .footer-bottom {
            flex-direction: column;
            gap: 1.5rem;
            text-align: center;
        }

        .footer-social {
            justify-content: center;
        }
    }
</style>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    // Wait for preloader to finish
    setTimeout(() => {
        document.body.classList.add("loaded");

        // Navbar entrance animation
        gsap.from(".navbar", {
            y: -100,
            duration: 1,
            ease: "power3.out",
        });

        gsap.from(".logo", {
            scale: 0.8,
            opacity: 0,
            duration: 0.8,
            ease: "back.out(1.7)",
            delay: 0.3,
        });

        // Only animate nav links on desktop (not mobile menu)
        if (window.innerWidth > 1024) {
            gsap.from(".nav-links li", {
                y: -20,
                opacity: 0,
                stagger: 0.1,
                duration: 0.6,
                ease: "power3.out",
                delay: 0.5,
            });
        }

        // Only animate CTA on desktop
        if (window.innerWidth > 1024) {
            gsap.from(".nav-cta", {
                scale: 0.8,
                opacity: 0,
                duration: 0.6,
                ease: "back.out(1.7)",
                delay: 0.9,
            });
        }
    }, 5500);

    // Original navbar entrance (removed, moved above)

    // Navbar scroll effect
    let lastScroll = 0;
    const navbar = document.querySelector(".navbar");

    window.addEventListener("scroll", () => {
        const currentScroll = window.pageYOffset;

        if (currentScroll > 100) {
            navbar?.classList.add("scrolled");
        } else {
            navbar?.classList.remove("scrolled");
        }

        // Hide on scroll down, show on scroll up
        if (currentScroll > lastScroll && currentScroll > 200) {
            gsap.to(".navbar", {
                y: -100,
                duration: 0.3,
                ease: "power2.out",
            });
        } else {
            gsap.to(".navbar", {
                y: 0,
                duration: 0.3,
                ease: "power2.out",
            });
        }

        lastScroll = currentScroll;
    });

    // Mobile menu toggle
    const menuToggle = document.querySelector(".menu-toggle");
    const navLinks = document.querySelector(".nav-links");
    const mobileOverlay = document.querySelector(".mobile-overlay");

    if (menuToggle && navLinks && mobileOverlay) {
        const closeMenu = () => {
            navLinks.classList.remove("mobile-open");
            menuToggle.classList.remove("active");
            mobileOverlay.classList.remove("active");
            document.body.style.overflow = "";
        };

        const openMenu = () => {
            navLinks.classList.add("mobile-open");
            menuToggle.classList.add("active");
            mobileOverlay.classList.add("active");
            document.body.style.overflow = "hidden";
        };

        menuToggle.addEventListener("click", () => {
            const isOpen = navLinks.classList.contains("mobile-open");
            if (isOpen) {
                closeMenu();
            } else {
                openMenu();
            }
        });

        // Close menu when clicking on overlay
        mobileOverlay.addEventListener("click", closeMenu);

        // Close menu when clicking on nav links
        const navLinkItems = navLinks.querySelectorAll(".nav-link");
        navLinkItems.forEach((link) => {
            link.addEventListener("click", closeMenu);
        });

        // Close mobile menu on window resize to desktop
        window.addEventListener("resize", () => {
            if (window.innerWidth > 1024) {
                closeMenu();
            }
        });
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", (e: Event) => {
            e.preventDefault();
            const href = (anchor as HTMLAnchorElement).getAttribute("href");
            if (href && href !== "#") {
                const target = document.querySelector(href);
                if (target) {
                    const offset = 100;
                    const targetPosition =
                        target.getBoundingClientRect().top +
                        window.pageYOffset -
                        offset;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: "smooth",
                    });
                }
            }
        });
    });

    // Footer animation on scroll
    gsap.from(".footer-brand", {
        scrollTrigger: {
            trigger: ".footer",
            start: "top 80%",
        },
        y: 30,
        opacity: 0,
        duration: 0.8,
        ease: "power3.out",
    });

    gsap.from(".footer-column", {
        scrollTrigger: {
            trigger: ".footer",
            start: "top 80%",
        },
        y: 30,
        opacity: 0,
        stagger: 0.2,
        duration: 0.8,
        ease: "power3.out",
    });

    gsap.from(".footer-bottom", {
        scrollTrigger: {
            trigger: ".footer",
            start: "top 80%",
        },
        y: 20,
        opacity: 0,
        duration: 0.8,
        delay: 0.4,
        ease: "power3.out",
    });
</script>
